<html>
  <head>
    <title>{{ title }} - microblog</title>

    <script src="//code.jquery.com/jquery-1.12.0.min.js"></script>
  <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="../static/test.js"></script>
  </head>
  <body>
      <h1>Hello, {{ user.nickname }}!</h1>


<div id ="map"></div>

<button id="btnSignUp" class="btn btn-lg btn-primary btn-block" type="button">Sign up</button>

<script>

function initMap() {
  var centreLat = 49.264
  var centreLon = -123.116
  var latit = {{latitude}};
  var longi = {{longitude}};
  //var myLatLng = {lat: latit, lng: longi};
  var myLatLng = {lat: centreLat, lng: centreLon};
  var listOf = {{listOf}}

  // Create a map object and specify the DOM element for display.
  var map = new google.maps.Map(document.getElementById('map'), {
    center: myLatLng,
    scrollwheel: false,
    zoom: 15
  });

  for (var i = 0; i <listOf.length; i++){
    var latitt = listOf[i][0];
    var longit = listOf[i][1];
    var myLatlng = new google.maps.LatLng(latitt, longit);
    var marker = new google.maps.Marker({
              position: myLatlng,

              map:map,
          });
     marker.setMap(map)
  }

  // Create a marker and set its position.
  /*var marker = new google.maps.Marker({
    map: map,
    position: myLatLng,
    title: "Hello World!"
  });*/
}


window.onload = setTimeout(initMap,1000);


</script>

 <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCsHbib3aGBwsO6ySVqCJcZUaAQjtNlqsc&callback=initMap">
    </script>

    <style type="text/css">
     #map {
        width: 500px;
        height: 500px;
      }
    </style>

  </body>
</html>